<ion-view id="team" cache-view="false" class="perfil team" view-title="Yego Team">
  <ion-nav-bar class="bar-dark">
    <ion-nav-back-button>
    </ion-nav-back-button>
    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
      </button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
      <button id="header-btn" class="button button-icon icon ion-person-add"
      ng-click="abrirModal()" ng-show="theresTeam"></button>
    </ion-nav-buttons>
  </ion-nav-bar>
  <ion-content class="has-header">
    <!-- NO HAY UN EQUIPO -->
    <div class="invitations list" ng-show="!theresTeam">
      <div class="item item-divider">
        Invitaciones pendientes <span class="inv-counter">{{requests.length}}</span>
      </div>
      <div class="item item-text-wrap" ng-repeat="request in requests">
        <p><strong>{{request.family_admin.admin_name}}</strong> te ha invitado a ser parte su Yego® Team: <strong>{{request.family_admin.name}}</strong></p>
        <button class="button button-positive button-clear" ng-click="acceptRequest(request.family_id)">Aceptar</button>
      </div>

    </div>
    <div class="new-team" ng-show="!theresTeam">
      <h2>¿No tienes Yego® Team?</h2>
      <h3>Crea uno:</h3>
      <form action="" class="list">
        <!-- name -->
        <label class="item item-input" id="codigo-label">
         <span class="input-label">Nombre* </span>
         <input type="text" ng-model="teamData.name">
        </label>
        <!-- administrator_id -->
        <input type="text" style="display:none" ng-model="teamData.administrator_id" ng-init="teamData.administrator_id = userId">
        <button class="button button-positive button-clear icon-right ion-ios-plus m-icon"
        ng-click="newTeam()">
          crear team
        </button>
      </form>
    </div>

    <!-- YA HAY UN EQUIPO -->
    <div id="team-cont" ng-show="theresTeam">
      <div class="list">
        <div class="item item-divider padding item-icon-right" >
          <h1 class="title nmb">{{team.name}}</h1>
          <i class="icon ion-ios-gear m-icon"></i>
        </div>
      </div>
      <h2 class="divider">Administrador</h2>
      <div class="list card">
        <div class="item auto-card">
          <h2>{{team.administrator.name}}</h2>
          <h1>Saporules</h1>
          <p>Kia Forte 2016</p>
          <a href="#" class="ion-android-more-vertical"></a>
        </div>
        <div class="item item-image">
          <img src="http://www.omakase.mx/assets/img/staff/asaf.jpg">
        </div>
      </div>

      <h2 class="divider">Integrantes</h2>
      <div class="list card" ng-repeat="member in team.app_users">
        <div class="item auto-card">
          <h2>{{member.name+' '+member.lastnames}}</h2>
          <h1>GodinezB</h1>
          <p>Mazda 2 2016</p>
          <a href="#" class="ion-android-more-vertical"></a>
        </div>
        <div class="item item-image">
          <img src="http://www.omakase.mx/assets/img/staff/armando.jpg">
        </div>
      </div>
  </ion-content>
</ion-view>
